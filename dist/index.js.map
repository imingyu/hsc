{"version":3,"file":"index.js","sources":["../src/util.js","../src/options.js","../src/rules/createRule.js","../src/rules/required.js","../src/rules/isType.js","../src/rules/index.js","../src/mtypes/helper.js","../src/mtypes/any.js","../src/mtypes/index.js","../src/index.js"],"sourcesContent":["export var isObject = (obj) => typeof obj === 'object';\r\nexport var isEmptyObject = (obj) => {\r\n    let prop;\r\n    for (prop in obj) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nexport const formatString = (template, values = {}) => {\r\n    return template.replace(/{([^}]*)}/g, function (match, key) {\r\n        return key in values ? values[key] : match;\r\n    });\r\n}\r\n\r\n\r\n// jQuery版extend函数\r\nexport var extend = function () {\r\n    var options, name, src, copy, copyIsArray, clone, target = arguments[0] || {},\r\n        i = 1,\r\n        length = arguments.length,\r\n        deep = false,\r\n        toString = Object.prototype.toString,\r\n        hasOwn = Object.prototype.hasOwnProperty,\r\n        class2type = {\r\n            '[object Boolean]': 'boolean',\r\n            '[object Number]': 'number',\r\n            '[object String]': 'string',\r\n            '[object Function]': 'function',\r\n            '[object Array]': 'array',\r\n            '[object Date]': 'date',\r\n            '[object RegExp]': 'regexp',\r\n            '[object Object]': 'object'\r\n        },\r\n        jQuery = {\r\n            isFunction: function (obj) {\r\n                return jQuery.type(obj) === 'function'\r\n            },\r\n            isArray: Array.isArray ||\r\n                function (obj) {\r\n                    return jQuery.type(obj) === 'array'\r\n                },\r\n            isWindow: function (obj) {\r\n                return obj != null && obj == obj.window\r\n            },\r\n            isNumeric: function (obj) {\r\n                return !isNaN(parseFloat(obj)) && isFinite(obj)\r\n            },\r\n            type: function (obj) {\r\n                return obj == null ? String(obj) : class2type[toString.call(obj)] || 'object'\r\n            },\r\n            isPlainObject: function (obj) {\r\n                if (!obj || jQuery.type(obj) !== 'object' || obj.nodeType) {\r\n                    return false\r\n                }\r\n                try {\r\n                    if (obj.constructor && !hasOwn.call(obj, 'constructor') && !hasOwn.call(obj.constructor.prototype, 'isPrototypeOf')) {\r\n                        return false\r\n                    }\r\n                } catch (e) {\r\n                    return false\r\n                }\r\n                var key;\r\n                for (key in obj) { }\r\n                return key === undefined || hasOwn.call(obj, key)\r\n            }\r\n        };\r\n    if (typeof target === 'boolean') {\r\n        deep = target;\r\n        target = arguments[1] || {};\r\n        i = 2;\r\n    }\r\n    if (typeof target !== 'object' && !jQuery.isFunction(target)) {\r\n        target = {}\r\n    }\r\n    if (length === i) {\r\n        target = this;\r\n        --i;\r\n    }\r\n    for (i; i < length; i++) {\r\n        if ((options = arguments[i]) != null) {\r\n            for (name in options) {\r\n                src = target[name];\r\n                copy = options[name];\r\n                if (target === copy) {\r\n                    continue\r\n                }\r\n                if (deep && copy && (jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)))) {\r\n                    if (copyIsArray) {\r\n                        copyIsArray = false;\r\n                        clone = src && jQuery.isArray(src) ? src : []\r\n                    } else {\r\n                        clone = src && jQuery.isPlainObject(src) ? src : {};\r\n                    }\r\n                    // WARNING: RECURSION\r\n                    target[name] = extend(deep, clone, copy);\r\n                } else if (copy !== undefined) {\r\n                    target[name] = copy;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return target;\r\n}","var options = {\r\n    rules: {\r\n        required: {\r\n            label: '必填',\r\n            trimString: true,\r\n            message: '此项{ruleLabel}'\r\n        }\r\n    }\r\n}\r\n\r\nexport default options;","import { isObject, isEmptyObject, extend, formatString } from '../util.js'\r\n\r\nexport default function createRule(ruleName, ruleHandler, mounthandler, ruleOptions = {}) {\r\n    class Rule {\r\n        constructor() {\r\n            this.name = ruleName;\r\n            this.handler = ruleHandler;\r\n            this.options = ruleOptions;\r\n        }\r\n\r\n        mount(typeIns, mountOptions) {\r\n            this.typeIns = typeIns;\r\n            if (ruleOptions.async) {\r\n                typeIns.spec.async = true;\r\n            }\r\n            if (typeof mounthandler === 'function') {\r\n                mountOptions = mounthandler.apply(this, [typeIns, mountOptions])\r\n            }\r\n            if (isObject(mountOptions) && !isEmptyObject(mountOptions)) {\r\n                this.mountOptions = this.mountOptions || {}\r\n                extend(true, this.mountOptions, mountOptions)\r\n            }\r\n            if (!typeIns.spec.rules[this.name]) {\r\n                typeIns.spec.rules[this.name] = true;\r\n                typeIns.rules.push(this);\r\n            }\r\n        }\r\n\r\n        validate(value, validateOptions) {\r\n            let computedOptions = this.computeOptions(validateOptions);\r\n            let message = computedOptions.message;\r\n            let messageValues = {\r\n                value,\r\n                name: this.typeIns.spec.name,\r\n                label: this.typeIns.spec.label,\r\n                type: this.typeIns.spec.type,\r\n                ruleName: this.name,\r\n                ruleLabel: computedOptions.label\r\n            }\r\n            if (typeof message === 'function') {\r\n                message = message(messageValues)\r\n            }\r\n            message = message ? formatString(message + '', messageValues) : '';\r\n\r\n            const validResult = this.handler.call(this, value, computedOptions);\r\n            if (typeof validResult === 'boolean') {\r\n                return {\r\n                    valid: validResult,\r\n                    message: message,\r\n                    options: computedOptions\r\n                }\r\n            } else if (typeof validResult === 'object') {\r\n                validResult.options = computedOptions;\r\n                validResult.message = validResult.message || message;\r\n                return validResult;\r\n            } else {\r\n                throw new Error('验证规则返回值无效！')\r\n            }\r\n        }\r\n\r\n        computeOptions(...args) {\r\n            return extend.apply(null, [true, {}, this.options, this.mountOptions, ...args]);\r\n        }\r\n    }\r\n    Rule.displayName = ruleName;\r\n    return Rule;\r\n}","import { isEmptyObject } from '../util.js';\r\nimport defaultOptions from '../options.js';\r\nimport createRule from './createRule.js';\r\n\r\nvar defaultHandler = {\r\n    'any': val => {\r\n        return defaultHandler.number(val) || defaultHandler.boolean(val) || defaultHandler.object(val) || defaultHandler.array(val) || defaultHandler.string(val);\r\n    },\r\n    'number': val => {\r\n        return typeof val === 'number' && !isNaN(val);\r\n    },\r\n    'boolean': val => {\r\n        return typeof val === 'boolean';\r\n    },\r\n    'object': val => {\r\n        return typeof val === 'object' && val !== null && !isEmptyObject(obj);\r\n    },\r\n    'array': val => {\r\n        return Array.isArray(val) && val.length > 0;\r\n    },\r\n    'string': (val, trimString) => {\r\n        var type = typeof val;\r\n        if (type === 'number' && !isNaN(val)) {\r\n            return true;\r\n        }\r\n        if (type === 'string' && val) {\r\n            if (trimString) {\r\n                return val.trim() !== '';\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\nexport default createRule('required', function (value, options) {\r\n    return (defaultHandler[this.typeIns.spec.type] || defaultHandler['any'])(value, options)\r\n}, null, defaultOptions.rules.required);","import defaultOptions from '../options.js';\r\nimport createRule from './createRule.js';\r\n\r\nvar defaultHandler = {\r\n    'any': val => {\r\n        return true;\r\n    },\r\n    'array': val => {\r\n        return Array.isArray(val);\r\n    }\r\n};\r\n['string', 'object', 'boolean', 'number'].forEach(item => {\r\n    defaultHandler[item] = val => {\r\n        return typeof val === item;\r\n    }\r\n})\r\nexport default createRule('isType', function (value, options) {\r\n    return (defaultHandler[this.typeIns.spec.type] || defaultHandler['any'])(value, options)\r\n}, false, defaultOptions.rules.isType);","import required from './required.js';\r\nimport isType from './isType.js';\r\n\r\nvar Rule = {\r\n    required,\r\n    isType\r\n}\r\nexport default Rule;","import Rule from '../rules/index.js';\r\nimport Options from '../options.js';\r\nimport * as util from '../util.js'\r\n\r\nexport var addRule = (typeIns, ruleName, options) => {\r\n    new Rule[ruleName]().mount(typeIns, options)\r\n}\r\n\r\nexport var validate = (typeIns, value) => {\r\n    return typeIns.spec.async ? new Promse((resolve, reject) => {\r\n    }) : validateSync(typeIns, value);\r\n}\r\nexport var validateSync = (typeIns, value) => {\r\n    var result = {\r\n        valid: true,\r\n        label: typeIns.spec.label,\r\n        rules: {},\r\n        message: ''\r\n    }\r\n    typeIns.rules.forEach(rule => {\r\n        result.rules[rule.name] = rule.validate(value);\r\n        result.valid = result.valid && result.rules[rule.name].valid;\r\n    });\r\n    return result;\r\n}","import { addRule, validate } from './helper.js';\r\nimport * as util from '../util.js'\r\n\r\nclass MAny {\r\n    constructor() {\r\n        this.spec = {\r\n            name: '',\r\n            type: 'any',\r\n            label: '',\r\n            async: false,// 是否是异步方式验证\r\n            rules: {}\r\n        }\r\n        this.rules = [];\r\n        addRule(this, 'isType')\r\n    }\r\n    name(val) {\r\n        this.spec.name = val;\r\n    }\r\n    label(val) {\r\n        this.spec.label = val;\r\n    }\r\n    message(val) {\r\n        this.spec.message = val;\r\n    }\r\n    validate(value) {\r\n        return validate(this, value)\r\n    }\r\n}\r\n\r\n['required'].forEach(ruleName => {\r\n    MAny.prototype[ruleName] = function (...args) {\r\n        addRule.apply(null, [this, ruleName, ...args]);\r\n        return this;\r\n    }\r\n});\r\n\r\nexport default MAny;","import MAny from './any.js';\r\nexport default {\r\n    any: MAny\r\n}","import MType from './mtypes/index.js';\r\nimport { version } from '../package.json';\r\nconst MSchema = {\r\n    version\r\n};\r\n['any', 'string', 'number', 'object', 'boolean', 'array'].forEach(type => {\r\n    MSchema[type] = function () {\r\n        return new MType[type]()\r\n    }\r\n});\r\nexport default MSchema;"],"names":["isObject","obj","isEmptyObject","prop","formatString","template","values","replace","match","key","extend","options","name","src","copy","copyIsArray","clone","target","arguments","i","length","deep","toString","Object","prototype","hasOwn","hasOwnProperty","class2type","jQuery","type","Array","isArray","window","isNaN","parseFloat","isFinite","String","call","nodeType","constructor","e","undefined","isFunction","isPlainObject","createRule","ruleName","ruleHandler","mounthandler","ruleOptions","Rule","handler","typeIns","mountOptions","async","spec","apply","rules","push","value","validateOptions","computedOptions","computeOptions","message","messageValues","label","validResult","Error","args","displayName","defaultHandler","number","val","boolean","object","array","string","trimString","trim","defaultOptions","required","forEach","item","isType","addRule","mount","validate","Promse","resolve","reject","validateSync","result","rule","valid","MAny","MSchema","MType"],"mappings":"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"}